<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon Icon -->
    <link rel="icon" type="image/x-icon" href="/assets/brand-icon.svg">

    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Links To All Style Files -->
    <link rel="stylesheet" href="./main.css">

    <title>Every Sunday | Login </title>

    <style>
        /* Add your CSS here(optional) */
        *{
            color: white;
        }
        .main{
            display: flex;
            width: 400px;
            margin: auto;
            margin-bottom: 50px;
            margin-top: 50px;
        }
        
        .signup-page {
            display: none;
        }
        .but{
            padding: 7px;
            border-radius: 20px;
        }
        .container > div:nth-child(1){
            width: 400px;
            margin: auto;
        }
        h3{
            margin-bottom: 20px;
        }
        input{
            padding: 2px 5px;
        }
        #log,#sign{
            border-radius: 20px;
            background-color: var(--primary); 
            color: white;
            padding: 5px 10px;
        }
        .form-group {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .form-group label {
            flex-basis: 100px;
            margin-right: 10px;
        }

        .form-group input {
            flex-grow: 1;
            /* padding: 5px; */
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <img src="./assets/brand-logo.svg" alt="Every Sunday Logo">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/">Destination</a></li>
                <li><a href="/">Feedback</a></li>
                <li><a href="/">Pricing</a></li>
            </ul>
            <i class="fa-solid fa-user"></i>
        </nav>
    </header>
    <main>
        <section class="container">
            <!-- Write Your HTML Code here -->
        <div>
            <button onclick="showLogin()" class="but">Login Tab</button>
            <button onclick="showSignup()" class="but">Signup Tab</button>
        </div>
        
        
        <div class="main">
            <!-- Add login page details here -->

            <div id="login" class="login-page">

                <h3>Login Page</h3>

                <form id="loginform">

                    <div class="form-group">
                        <label for="username">Username:</label>
                        <input type="text" id="username" name="username" autocomplete="off">
                    </div>

                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="passwordl" name="password" >
                    </div>

                    <input type="submit" value="Login" id="log">

                </form>
                
            </div>
        

            <!-- Add signup page details here -->


            <div id="signup" class="signup-page">

                <h3>Signup Page</h3>

                <form id="signupform">

                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" autocomplete="off">
                    </div>

                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" autocomplete="off">
                    </div>

                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="passwords" name="password">
                    </div>

                    <div class="form-group">
                        <label for="confirm-password">Confirm Password:</label>
                        <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirm your password">
                    </div>

                    <input type="submit" value="Signup" class="but" id="sign">

                </form>
            </div>
        </div>

            <!-- -->
        </section>
    </main>
    <footer>
        <section class="articles"></section>
        <div class="container">
            <h1>Get started and early <span>Update</span> about our package</h1>
            <!-- Copy this searchbox If you want to use it somewhere else -->
            <div class="searchbox">
                <input  type="text" placeholder="Enter your email">
                <button class="btn">Get Started</button>
            </input>
            </div>
            <hr>
            <div class="footer">
                <img src="./assets/brand-logo.svg" alt="Every Sunday Logo">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/">Destination</a></li>
                    <li><a href="/">Feedback</a></li>
                    <li><a href="/">Pricing</a></li>
                </ul>
                <p><i class="fa-regular fa-copyright"></i> 2023 Every Sunday</p>
            </div>
            <div class="socials">
                <div class="social">
                    <i class="fa-brands fa-instagram"></i>
                </div>
                <div class="social"><i class="fa-brands fa-twitter"></i></div>
                <div class="social">
                    <i class="fa-brands fa-facebook"></i>
                </div>
            </div>
        </div>
    </footer>
    
</body>
</html>
<script>
    // Write all you JS code below

    function showLogin() {
            document.getElementById("login").style.display = "block";
            document.getElementById("signup").style.display = "none";
    }

    function showSignup() {
        document.getElementById("login").style.display = "none";
        document.getElementById("signup").style.display = "block";
    }

    let ls_data= JSON.parse(localStorage.getItem("user")) || [];
    console.log(ls_data)

    let form1=document.getElementById("signupform");
    let name= document.getElementById("name");
    let email= document.getElementById("email");
    let passwords= document.getElementById("passwords");
    let confirmpassword= document.getElementById("confirm-password");

   form1.addEventListener("submit", function() {

    if(confirmpassword.value !== passwords.value) {
        alert("Enter same characters as above!!!");
    }
    else if (confirmpassword.value === passwords.value) {
        let object={}
        object.name=name.value;
        object.email=email.value;
        object.password=passwords.value;
        console.log(object)
        ls_data.push(object);
        localStorage.setItem("user",JSON.stringify(ls_data));
    }
});


    let username= document.getElementById("username");
    let passwordl= document.getElementById("passwordl");
    let form2= document.getElementById("loginform");
    
    form2.addEventListener("submit", function() {
        let data= JSON.parse(localStorage.getItem("user"))
        // event.preventDefault();
        let flag=false;

        for(let i=0; i<data.length; i++) {
    
            if(username.value===data[i].email && passwordl.value===data[i].password)  {
               flag=true;
               break;
            }
        }
        
        if(flag==true) {
           alert("Successfully logged in!!!")
        }
        else{
            alert("Please Enter Correct credentials..")
        }
    });


</script>